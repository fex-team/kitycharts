<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<textarea name="" id="source" cols="30" rows="10">6/13/14,阿尔及利亚,0,0,1000,H 6/13/14,阿根廷,0,0,1000,F 6/13/14,澳大利亚,0,0,1000,B 6/13/14,巴西,0,0,1000,A 6/13/14,比利时,0,0,1000,H 6/13/14,波黑,0,0,1000,F 6/13/14,德国,0,0,1000,G 6/13/14,俄罗斯,0,0,1000,H 6/13/14,厄瓜多尔,0,0,1000,E 6/13/14,法国,0,0,1000,E, 6/13/14,哥伦比亚,0,0,1000,C 6/13/14,哥斯达黎加,0,0,1000,D 6/13/14,韩国,0,0,1000,H 6/13/14,荷兰,0,0,1000,B 6/13/14,洪都拉斯,0,0,1000,E 6/13/14,加纳,0,0,1000,G 6/13/14,喀麦隆,0,0,1000,A 6/13/14,科特迪瓦,0,0,1000,C 6/13/14,克罗地亚,0,0,1000,A 6/13/14,美国,0,0,1000,G 6/13/14,墨西哥,0,0,1000,A 6/13/14,尼日利亚,0,0,1000,F 6/13/14,葡萄牙,0,0,1000,G 6/13/14,日本,0,0,1000,C 6/13/14,瑞士,0,0,1000,E 6/13/14,乌拉圭,0,0,1000,D 6/13/14,西班牙,0,0,1000,B 6/13/14,希腊,0,0,1000,C 6/13/14,伊朗,0,0,1000,F 6/13/14,意大利,0,0,1000,D 6/13/14,英格兰,0,0,1000,D 6/13/14,智利,0,0,1000,B 6/18/14,阿尔及利亚,1,180,4021,H 6/18/14,阿根廷,2,391,17500,F 6/18/14,澳大利亚,1,188,4779,B 6/18/14,巴西,3,386,94939,A 6/18/14,比利时,2,515,7907,H 6/18/14,波黑,1,303,4664,F 6/18/14,德国,4,469,221480,G 6/18/14,俄罗斯,1,325,5735,H 6/18/14,厄瓜多尔,1,212,1717,E 6/18/14,法国,3,566,25766,E 6/18/14,哥伦比亚,3,256,5493,C 6/18/14,哥斯达黎加,3,247,2219,D 6/18/14,韩国,1,296,13135,H 6/18/14,荷兰,5,243,119778,B 6/18/14,洪都拉斯,0,184,1859,E 6/18/14,加纳,1,338,4386,G 6/18/14,喀麦隆,0,167,1941,A 6/18/14,科特迪瓦,2,325,2197,C 6/18/14,克罗地亚,1,232,5509,A 6/18/14,美国,2,193,8889,G 6/18/14,墨西哥,1,376,14482,A 6/18/14,尼日利亚,0,400,3054,F 6/18/14,葡萄牙,0,331,19322,G 6/18/14,日本,1,229,20375,C 6/18/14,瑞士,2,425,6083,E 6/18/14,乌拉圭,1,322,5452,D 6/18/14,西班牙,1,457,46752,B 6/18/14,希腊,0,280,9694,C 6/18/14,伊朗,0,148,3594,F 6/18/14,意大利,2,503,28532,D 6/18/14,英格兰,1,361,13382,D 6/18/14,智利,3,501,9136,B 6/23/14,阿尔及利亚,5,471,5683,H 6/23/14,阿根廷,3,844,27877,F 6/23/14,澳大利亚,3,513,8237,B 6/23/14,巴西,3,681,116799,A 6/23/14,比利时,3,836,11387,H 6/23/14,波黑,1,708,7114,F 6/23/14,德国,6,1007,317905,G 6/23/14,俄罗斯,1,602,8335,H 6/23/14,厄瓜多尔,3,229,2476,E 6/23/14,法国,8,792,49474,E 6/23/14,哥伦比亚,5,507,9877,C 6/23/14,哥斯达黎加,4,514,9049,D 6/23/14,韩国,3,590,22268,H 6/23/14,荷兰,8,577,151574,B 6/23/14,洪都拉斯,1,399,2759,E 6/23/14,加纳,3,619,18965,G 6/23/14,喀麦隆,0,376,2828,A 6/23/14,科特迪瓦,3,657,3671,C 6/23/14,克罗地亚,5,554,7461,A 6/23/14,美国,4,561,18098,G 6/23/14,墨西哥,1,623,16512,A 6/23/14,尼日利亚,1,678,4813,F 6/23/14,葡萄牙,2,746,25316,G 6/23/14,日本,1,688,31831,C 6/23/14,瑞士,4,794,11840,E 6/23/14,乌拉圭,3,482,10624,D 6/23/14,西班牙,1,916,75971,B 6/23/14,希腊,0,385,13726,C 6/23/14,伊朗,0,238,10411,F 6/23/14,意大利,2,1001,48018,D 6/23/14,英格兰,2,707,24116,D 6/23/14,智利,5,733,18433,B 6/27/14,阿尔及利亚,6,774,6789,H 6/27/14,阿根廷,6,1258,35366,F 6/27/14,澳大利亚,3,824,8764,B 6/27/14,巴西,7,975,134937,A 6/27/14,比利时,4,1071,13272,H 6/27/14,波黑,4,1185,8757,F 6/27/14,德国,7,1658,376895,G 6/27/14,俄罗斯,2,984,9914,H 6/27/14,厄瓜多尔,3,389,3050,E 6/27/14,法国,8,1230,63506,E 6/27/14,哥伦比亚,9,697,13543,C 6/27/14,哥斯达黎加,4,821,12224,D 6/27/14,韩国,3,902,28671,H 6/27/14,荷兰,10,758,171238,B 6/27/14,洪都拉斯,1,825,3288,E 6/27/14,加纳,4,859,28854,G 6/27/14,喀麦隆,1,633,3195,A 6/27/14,科特迪瓦,4,983,5893,C 6/27/14,克罗地亚,6,856,8136,A 6/27/14,美国,4,839,26210,G 6/27/14,墨西哥,4,854,18797,A 6/27/14,尼日利亚,3,916,6715,F 6/27/14,葡萄牙,4,1088,30407,G 6/27/14,日本,2,1021,39087,C 6/27/14,瑞士,7,1052,13954,E 6/27/14,乌拉圭,4,730,15882,D 6/27/14,西班牙,4,1386,84146,B 6/27/14,希腊,2,632,17207,C 6/27/14,伊朗,1,463,12621,F 6/27/14,意大利,2,1371,62791,D 6/27/14,英格兰,2,1110,27657,D 6/27/14,智利,5,1131,22216,B 7/2/14,阿尔及利亚,7,1031,8955,H 7/2/14,阿根廷,7,1756,45805,F 7/2/14,澳大利亚,3,824,8764,B 7/2/14,巴西,8,1302,164655,A 7/2/14,比利时,6,1436,17175,H 7/2/14,波黑,4,1185,8757,F 7/2/14,德国,9,2319,456800,G 7/2/14,俄罗斯,2,984,9914,H 7/2/14,厄瓜多尔,3,389,3050,E 7/2/14,法国,10,1564,94025,E 7/2/14,哥伦比亚,11,932,19778,C 7/2/14,哥斯达黎加,5,1087,18993,D 7/2/14,韩国,3,902,28671,H 7/2/14,荷兰,12,1157,206127,B 7/2/14,洪都拉斯,1,825,3288,E 7/2/14,加纳,4,859,28854,G 7/2/14,喀麦隆,1,633,3195,A 7/2/14,科特迪瓦,4,983,5893,C 7/2/14,克罗地亚,6,856,8136,A 7/2/14,美国,5,1277,33428,G 7/2/14,墨西哥,5,1113,25349,A 7/2/14,尼日利亚,3,1192,8925,F 7/2/14,葡萄牙,4,1088,30407,G 7/2/14,日本,2,1021,39087,C 7/2/14,瑞士,7,1315,20114,E 7/2/14,乌拉圭,4,943,18203,D 7/2/14,西班牙,4,1386,84146,B 7/2/14,希腊,3,1029,22079,C 7/2/14,伊朗,1,463,12621,F 7/2/14,意大利,2,1371,62791,D 7/2/14,英格兰,2,1110,27657,D 7/2/14,智利,8,1486,28922,B 7/6/14,阿尔及利亚,7,1031,8955,H 7/6/14,阿根廷,8,2030,56742,F 7/6/14,澳大利亚,3,824,8764,B 7/6/14,巴西,10,1540,187345,A 7/6/14,比利时,6,1717,23390,H 7/6/14,波黑,4,1185,8757,F 7/6/14,德国,10,2603,538051,G 7/6/14,俄罗斯,2,984,9914,H 7/6/14,厄瓜多尔,3,389,3050,E 7/6/14,法国,10,1852,120417,E 7/6/14,哥伦比亚,12,1140,25079,C 7/6/14,哥斯达黎加,5,1330,24045,D 7/6/14,韩国,3,902,28671,H 7/6/14,荷兰,12,1802,234843,B 7/6/14,洪都拉斯,1,825,3288,E 7/6/14,加纳,4,859,28854,G 7/6/14,喀麦隆,1,633,3195,A 7/6/14,科特迪瓦,4,983,5893,C 7/6/14,克罗地亚,6,856,8136,A 7/6/14,美国,5,1277,33428,G 7/6/14,墨西哥,5,1113,25349,A 7/6/14,尼日利亚,3,1192,8925,F 7/6/14,葡萄牙,4,1088,30407,G 7/6/14,日本,2,1021,39087,C 7/6/14,瑞士,7,1315,20114,E 7/6/14,乌拉圭,4,943,18203,D 7/6/14,西班牙,4,1386,84146,B 7/6/14,希腊,3,1029,22079,C 7/6/14,伊朗,1,463,12621,F 7/6/14,意大利,2,1371,62791,D 7/6/14,英格兰,2,1110,27657,D 7/6/14,智利,8,1486,28922,B 7/10/14,阿尔及利亚,7,1031,8955,H 7/10/14,阿根廷,8,2445,63235,F 7/10/14,澳大利亚,3,824,8764,B 7/10/14,巴西,11,1879,205132,A 7/10/14,比利时,6,1717,23390,H 7/10/14,波黑,4,1185,8757,F 7/10/14,德国,17,3019,581281,G 7/10/14,俄罗斯,2,984,9914,H 7/10/14,厄瓜多尔,3,389,3050,E 7/10/14,法国,10,1852,120417,E 7/10/14,哥伦比亚,12,1140,25079,C 7/10/14,哥斯达黎加,5,1330,24045,D 7/10/14,韩国,3,902,28671,H 7/10/14,荷兰,12,2372,255375,B 7/10/14,洪都拉斯,1,825,3288,E 7/10/14,加纳,4,859,28854,G 7/10/14,喀麦隆,1,633,3195,A 7/10/14,科特迪瓦,4,983,5893,C 7/10/14,克罗地亚,6,856,8136,A 7/10/14,美国,5,1277,33428,G 7/10/14,墨西哥,5,1113,25349,A 7/10/14,尼日利亚,3,1192,8925,F 7/10/14,葡萄牙,4,1088,30407,G 7/10/14,日本,2,1021,39087,C 7/10/14,瑞士,7,1315,20114,E 7/10/14,乌拉圭,4,943,18203,D 7/10/14,西班牙,4,1386,84146,B 7/10/14,希腊,3,1029,22079,C 7/10/14,伊朗,1,463,12621,F 7/10/14,意大利,2,1371,62791,D 7/10/14,英格兰,2,1110,27657,D 7/10/14,智利,8,1486,28922,B</textarea>
	<textarea name="" id="target" cols="30" rows="10"></textarea>
</body>
<script>
	(function(){
		var sourceVal = document.getElementById('source').value;
		var target = document.getElementById('target');
		var items = sourceVal.split(' ');
		var objs = [];

		for(var i=0;i<items.length;i++){
			objs.push(items[i].split(','));
		}
		var obj = {
			date:objs[0][0],
			series:[]
		};
		var result = [obj];
		for(var j=0;j<objs.length;j++){
			var o = objs[j];
			//同一天的归到一个数组里面
			if(o[0]!==obj.date){
				obj = {
					date:o[0],
					series:[]
				};
				result.push(obj);
			}
			var series = obj.series;
			series.push({
				nation:o[1],
                goal:parseInt(o[2]),
                pass:parseInt(o[3]),
                search:parseInt(o[4]),
                group:o[5],
			});
		}
		target.value = JSON.stringify(result);
	})();
</script>
</html>